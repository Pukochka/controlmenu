(function(){"use strict";var e={5540:function(e,t,n){var s=n(9242),i=n(3396),l=n(7139);const o=e=>((0,i.dD)("data-v-329ee356"),e=e(),(0,i.Cn)(),e),a={class:"body"},r={class:"flex justify-between"},u=o((()=>(0,i._)("div",{class:"header"},"Настройки базового меню",-1))),d={class:"messanger"},c=o((()=>(0,i._)("div",{class:"messanger_message your"},[(0,i._)("div",{class:"messanger_avatar"},[(0,i._)("div",{class:"messanger_avatar_img"})]),(0,i._)("div",{class:"messanger_content your"},[(0,i._)("div",{class:"messanger_content_text"},"Базовое меню"),(0,i._)("div",{class:"messanger_content_info"},"11.01 10:00")])],-1))),p={class:"messanger_message"},g=o((()=>(0,i._)("div",{class:"messanger_avatar"},[(0,i._)("div",{class:"messanger_avatar_img"})],-1))),h={class:"container"},m=o((()=>(0,i._)("div",{class:"messanger_content"},[(0,i._)("div",{class:"messanger_content_text"},"Меню"),(0,i._)("div",{class:"messanger_content_info"},"11.01 10:01")],-1))),_={class:"container_btn"},v=["onClick"],f=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),b=o((()=>(0,i._)("span",null,"+",-1))),x=[f,b],y=["onClick"],w=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),k=["onClick"],q=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),C=(0,i.Uk)(" Добавить кнопку "),S=[q,C],D={key:1,class:"danger"},R=o((()=>(0,i._)("div",{class:"sure"},"Вы уверены,что хотите удалить линию?",-1))),W={class:"actions"};function H(e,t,n,o,f,b){const q=(0,i.up)("p-spinner"),C=(0,i.up)("p-separator"),H=(0,i.up)("p-btn"),z=(0,i.up)("p-card"),B=(0,i.up)("dial-menu-settings"),L=(0,i.up)("dial-drag"),j=(0,i.up)("dial-setting"),I=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[(0,i.Wm)(z,{class:"card_area"},{default:(0,i.w5)((()=>[(0,i._)("div",r,[u,(0,i.Wm)(q,{model:o.requestWaiting},null,8,["model"])]),(0,i.Wm)(C),(0,i._)("div",d,[c,(0,i._)("div",p,[g,(0,i._)("div",h,[m,(0,i.Wm)(H,{label:"Настройки всего меню",color:"#ddd",textcolor:"#333",size:"18px",margin:"5px",padding:"8px 0",onClick:t[0]||(t[0]=e=>o.dialMenuSettings=!o.dialMenuSettings)}),(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.lines,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"container_btn_lines",key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n},[(0,i.Wm)(s.W3,{name:"list",tag:"div",class:"container_btn_btns gutter"},{default:(0,i.w5)((()=>[e.length>=2?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"button delete",title:"Удалить линию",onClick:e=>{o.deleteLineDial=!o.deleteLineDial,o.selectLine=t.id}},x,8,v)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.buttons,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["button",{break:b.wordBreak(e.route.message)}]),key:n,onClick:n=>b.selectBtn(e,t)},[w,(0,i.Uk)(" "+(0,l.zw)(e.route.message),1)],10,y)))),128)),t.buttons.length<10?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"button",onClick:e=>b.addBtn(t.id)},S,8,k)):(0,i.kq)("",!0)])),_:2},1024)])))),128))])))),128)),o.lines[0]?.length<10?((0,i.wg)(),(0,i.j4)(H,{key:0,onClick:t[1]||(t[1]=e=>b.addLine()),label:"Добавить линию",margin:"5px",size:"18px",color:"#ddd",textcolor:"#333",padding:"8px 0"})):(0,i.kq)("",!0),(0,i.Wm)(H,{padding:"8px 0",label:"Переместить кнопки",color:"#ddd",size:"18px",textcolor:"#333",margin:"5px",onClick:t[2]||(t[2]=e=>o.dialDrag=!o.dialDrag)}),10==o.lines[0]?.length?((0,i.wg)(),(0,i.iD)("div",D," Достигнуто максимальное количество линий ")):(0,i.kq)("",!0)])])])])])),_:1})]),(0,i.Wm)(B,{model:o.dialMenuSettings,settings:o.menuSettings,onCloseMenuSettings:b.closeMenuSettings,onSaveSettings:b.saveSettings},null,8,["model","settings","onCloseMenuSettings","onSaveSettings"]),(0,i.Wm)(L,{render:o.lines,model:o.dialDrag,onCloseDrag:b.closeDrag,onSortBtn:b.requestSortButton},null,8,["render","model","onCloseDrag","onSortBtn"]),(0,i.Wm)(j,{lines:o.lines,control:o.control,model:o.dialSettings,data:o.select,onCloseSettings:b.closeSettings,onAddLine:b.requestAddBtnWithLine,onAddButton:b.requestAddBtnInLine,onUpdateButton:b.requestUpdateData,onDeleteButton:b.requestDeleteButton},null,8,["lines","control","model","data","onCloseSettings","onAddLine","onAddButton","onUpdateButton","onDeleteButton"]),(0,i.Wm)(I,{model:o.deleteLineDial},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{class:"sure_card"},{default:(0,i.w5)((()=>[R,(0,i._)("div",W,[(0,i.Wm)(H,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[3]||(t[3]=e=>o.deleteLineDial=!o.deleteLineDial)}),(0,i.Wm)(H,{class:"actions_btn",label:"Подтвердить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[4]||(t[4]=e=>{b.requestDeleteLine(o.selectLine),o.deleteLineDial=!o.deleteLineDial})})])])),_:1})])),_:1},8,["model"])],64)}var z=n(6265),B=n.n(z),L=n(4870);const j={class:"dial_header"},I={class:"dial_container"},O={key:0,class:"danger"},K={class:"dial_container"},A={class:"dial_container_head"},$=["onClick"],M={key:0,class:"danger"},T={key:0,class:"dial_container"},Z={class:"dial_container_head"},P=["onClick"],V={key:0,class:"danger"},Y={class:"actions"},E={class:"sure"},U={class:"actions"};function N(e,t,n,s,o,a){const r=(0,i.up)("p-separator"),u=(0,i.up)("p-input"),d=(0,i.up)("p-input-required"),c=(0,i.up)("p-select"),p=(0,i.up)("p-btn"),g=(0,i.up)("p-card"),h=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(h,{model:n.model},{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("div",j,(0,l.zw)(n.control?"Добавление":"Изменение")+" кнопки ",1),(0,i.Wm)(r),(0,i._)("div",I,[(0,i.Wm)(u,{label:(n.control?"Введите":"Измененить")+" название кнопки",modelValue:s.message.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.message.value=e),max:s.message.max},null,8,["label","modelValue","max"]),a.validateRepeatButton()?((0,i.wg)(),(0,i.iD)("div",O," Кнопка с таким названием уже есть ")):(0,i.kq)("",!0),(0,i.Wm)(d,{model:s.message},null,8,["model"])]),(0,i._)("div",K,[(0,i._)("div",A,(0,l.zw)((n.control?"Добавить":"Изменить")+" путь кнопки"),1),(0,i.Wm)(c,{select:s.selectRoute.text},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.routes,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"actions_item",key:t,onClick:t=>a.selectRoutes(e)},(0,l.zw)(e.text),9,$)))),128))])),_:1},8,["select"]),s.dangerRoute?((0,i.wg)(),(0,i.iD)("div",M," Для того чтобы "+(0,l.zw)(n.control?"добавить":"изменить")+" кнопку нужно выбрать действие ",1)):(0,i.kq)("",!0)]),s.selectRoute.value?.length>0?((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("div",Z,(0,l.zw)((n.control?"Добавить":"Изменить")+" путь кнопки"),1),(0,i.Wm)(c,{select:s.selectRouteText},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.selectRoute.value[0],((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"actions_item",key:t,onClick:n=>a.selectRouteValue(e,t)},(0,l.zw)("category"==s.selectRoute.type?e.text:e),9,P)))),128))])),_:1},8,["select"]),s.dangerKey?((0,i.wg)(),(0,i.iD)("div",V," Для того чтобы "+(0,l.zw)(n.control?"добавить":"изменить")+" кнопку нужно выбрать ",1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",Y,[(0,i.Wm)(p,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:a.closeSettings},null,8,["onClick"]),n.control?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:0,class:"actions_btn",label:"Удалить кнопку",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[1]||(t[1]=e=>s.sure=!s.sure)})),(0,i.Wm)(p,{class:"actions_btn",label:n.control?"Добавить":"Изменить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[2]||(t[2]=e=>a.configButton(!1))},null,8,["label"])])])),_:1})])),_:1},8,["model"]),(0,i.Wm)(h,{model:s.sure},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"sure_card"},{default:(0,i.w5)((()=>[(0,i._)("div",E," Вы уверены,что хотите удалить кнопку "+(0,l.zw)(n.data?.route.message)+"? ",1),(0,i._)("div",U,[(0,i.Wm)(p,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[3]||(t[3]=e=>s.sure=!s.sure)}),(0,i.Wm)(p,{class:"actions_btn",label:"Подтвердить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[4]||(t[4]=e=>{a.configButton("delete"),s.sure=!s.sure})})])])),_:1})])),_:1},8,["model"])],64)}const F=e=>((0,i.dD)("data-v-1d0fbb24"),e=e(),(0,i.Cn)(),e),J=F((()=>(0,i._)("div",{class:"blur"},null,-1)));function X(e,t,n,s,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:"btn",ref:"button",style:(0,l.j5)({padding:n.padding,background:n.color,color:n.textcolor,fontSize:n.size,margin:n.margin,borderRadius:n.rad})},[(0,i.WI)(e.$slots,"default",{},void 0,!0),(0,i._)("div",{class:(0,l.C_)(["",{btn_content:n.word}])},(0,l.zw)(n.label),3),J,n.title?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"title",ref:"title"},(0,l.zw)(n.title),513)):(0,i.kq)("",!0)],4)}var G={setup(){return{}},methods:{},mounted(){},props:{label:{type:String,required:!1},rad:{type:String,required:!1},word:{type:Boolean,required:!1},blur:{type:Boolean,required:!1},title:{type:String,required:!1},padding:{type:String,required:!1},margin:{type:String,required:!1},color:{type:String,required:!1},textcolor:{type:String,required:!1},size:{type:String,required:!1}}},Q=n(89);const ee=(0,Q.Z)(G,[["render",X],["__scopeId","data-v-1d0fbb24"]]);var te=ee;const ne={class:"label"},se=["type","value","maxlength"];function ie(e,t,n,s,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ne,(0,l.zw)(n.label),1),(0,i._)("input",{class:"input",type:n.type,style:(0,l.j5)({borderBottom:`1px solid ${n.bordercolor};`,width:n.width}),value:n.modelValue,maxlength:+n.max,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,44,se)],64)}var le={setup(){return{name:(0,L.iH)("")}},mounted(){},watch:{},props:{max:{type:Number,required:!1},label:{type:String,required:!1},text:{type:String,required:!1},type:{type:String,required:!1,default:"text"},width:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1},color:{type:String,required:!1},textcolor:{type:String,required:!1},size:{type:String,required:!1},bordercolor:{type:String,required:!1}}};const oe=(0,Q.Z)(le,[["render",ie],["__scopeId","data-v-187192c5"]]);var ae=oe;const re={class:"select_group"},ue={class:"select_group_content"};function de(e,t,n,s,o,a){return(0,i.wg)(),(0,i.iD)("div",re,[(0,i._)("div",{class:"select_group_select",onClick:t[2]||(t[2]=e=>s.model=!s.model)},[(0,i._)("div",ue,(0,l.zw)(n.select),1),(0,i._)("div",{class:(0,l.C_)(["select_group_expand",{show:s.model}])},null,2),(0,i._)("div",{class:(0,l.C_)(["select_group_popup",{show:s.model}]),onClick:t[1]||(t[1]=e=>s.model=!s.model)},[(0,i._)("div",{class:"select_group_popup_helper",onClick:t[0]||(t[0]=e=>s.model=!s.model)},[(0,i.WI)(e.$slots,"default",{},void 0,!0)])],2)])])}var ce={setup(){return{model:(0,L.iH)(!1)}},watch:{},props:{select:{type:String,required:!1},label:{type:String,required:!1}},methods:{},mounted(){}};const pe=(0,Q.Z)(ce,[["render",de],["__scopeId","data-v-463da378"]]);var ge=pe;const he={class:"separator"};function me(e,t,n,s,l,o){return(0,i.wg)(),(0,i.iD)("hr",he)}var _e={setup(){return{}},props:{}};const ve=(0,Q.Z)(_e,[["render",me],["__scopeId","data-v-0ab169c8"]]);var fe=ve;function be(e,t,n,s,o,a){return(0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i._)("div",{class:(0,l.C_)(["dialog full fullscreen",{show:n.model}])},[(0,i._)("div",{class:(0,l.C_)(["dialog_backdrop full",{show:n.model}])},null,2),(0,i._)("div",{class:(0,l.C_)(["dialog_inner full fixed",{show:n.model}])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)],2)])}var xe={props:["model"],setup(){return{name:(0,L.iH)(!1)}},watch:{}};const ye=(0,Q.Z)(xe,[["render",be],["__scopeId","data-v-69ae2105"]]);var we=ye;function ke(e,t,n,s,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:"card",style:(0,l.j5)({background:n.color})},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],4)}var qe={setup(){return{}},props:{color:{type:String,required:!1}}};const Ce=(0,Q.Z)(qe,[["render",ke],["__scopeId","data-v-038992f4"]]);var Se=Ce;const De={key:0,class:"input_danger"};function Re(e,t,n,s,o,a){return n.model.required?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",De,(0,l.zw)(n.model.value.length==n.model.max?"Достигнуто максимальное количество символов":`Минимальное количество символов ${n.model.min} введено ${n.model.value.length}`),1))}var We={setup(){return{}},props:{model:{type:Object,required:!1}}};const He=(0,Q.Z)(We,[["render",Re],["__scopeId","data-v-5cbf0b32"]]);var ze=He,Be={components:{"p-btn":te,"p-input":ae,"p-select":ge,"p-separator":fe,"p-dialog":we,"p-card":Se,"p-input-required":ze},emits:["changeType","changeRoute","closeSettings","deleteButton","addLine","updateButton","addButton"],props:{model:{type:Boolean,required:!1},data:{type:Object,required:!1},lines:{type:Object,required:!1},control:{type:Boolean,required:!1}},setup(){return{btns:(0,L.iH)([]),dangerRoute:(0,L.iH)(!1),dangerKey:(0,L.iH)(!1),selectRouteKey:(0,L.iH)(""),selectRouteText:(0,L.iH)(""),routes:(0,L.iH)([]),sure:(0,L.iH)(!1),currentRoute:(0,L.iH)(""),message:(0,L.iH)({value:"",required:!1,min:3,max:20}),selectRoute:(0,L.iH)({text:"Выберите путь",route:"",identifier:"",text_value:"",value:[]})}},methods:{selectRouteValue(e,t){this.dangerKey=!1,"category"==this.selectRoute.type?(this.selectRouteText=e.text,this.selectRouteKey=e.route):(this.selectRouteText=e,this.selectRouteKey=t)},selectRoutes(e){this.dangerRoute=!1,e.type?"category"==e.type&&(this.selectRouteText="Выбрать панель",this.selectRoute={text:e.text,type:"category",value:[{...e.value}]}):(this.selectRoute=e,this.selectRouteText=this.selectRoute.text_value?this.selectRoute.text_value:"")},closeSettings(){this.$emit("closeSettings")},getRoutes(){B().post("https://api.bot-t.ru/v1/bot/main/actions?token=1250754763:AAHCrhde6Hzz-PKOf-072dpZIFyPjh2obkA","bot_id=889&menu_id=26699").then((e=>{for(let t of JSON.parse(e.data).data)this.routes.push(t);console.log(this.routes)}))},configButton(e){if(this.dangerRoute=!1,this.dangerKey=!1,e)return this.$emit("deleteButton",this.data.id),void this.closeSettings();this.validateDataRoute(this.selectRoute)&&!this.validateRepeatButton()&&this.message.required&&(this.closeSettings(),"add-line"==this.data.req?this.$emit("addLine",this.message.value,this.chooseRoute(this.selectRoute)):"add-button"==this.data.req?this.$emit("addButton",this.data.line,this.message.value,this.chooseRoute(this.selectRoute)):this.$emit("updateButton",this.data.id,this.message.value,this.chooseRoute(this.selectRoute)))},chooseRoute(e){let t;return t=e.value?.length>0?e.type?this.selectRouteKey:e.route+e.identifier+this.selectRouteKey:e.route,t},validateDataRoute(e){return""==e.route?this.dangerRoute=!0:this.dangerRoute=!1,e.value?.length>0&&""==this.selectRouteKey&&(this.dangerKey=!0),!this.dangerRoute&&!this.dangerKey},validateRepeatButton(){let e=!1;if(this.data.req)for(let t=0;t<this.btns.length;t++)this.message.value==this.btns[t]&&(e=!0);else for(let t of this.btns.filter((e=>e!=this.data.route.message)))this.message.value==t&&(e=!0);return e},pushButtons(){this.btns=[];for(let e of this.lines)for(let t of e)for(let e of t.buttons)this.btns.push(e.route.message)}},watch:{model(){this.pushButtons();let e=!1,t=!0;this.message.value=this.data.route.message,this.selectRoute=this.routes.find((e=>e.route==this.data.route.route)),"add-button"==this.data.req||"add-line"==this.data.req?this.selectRoute={text:"Выберите путь",route:""}:(void 0==this.selectRoute&&(this.routes.forEach((n=>{if(n.value)for(let s in n.value[0])if(n.route+n.identifier+s==this.data.route.route){e=!0,t=!1;let i=s.length+n.identifier.length,l=[...this.data.route.route];l.splice(-i,i),this.currentRoute=l.join(""),this.selectRouteText=n.value[0][s]}})),this.selectRoute=this.routes.find((e=>e.route==this.currentRoute)),t&&this.routes.forEach((t=>{if(t.type){e=!0,this.selectRoute=this.routes.find((e=>e.value==t.value)),this.selectRoute={text:this.selectRoute.text,type:"category",value:[{...this.selectRoute.value}]};for(let e in t.value)t.value[e].route==this.data.route.route&&(this.selectRouteText=t.value[e].text)}}))),this.selectRoute.value?.length>0&&!e&&(this.selectRouteText=this.selectRoute.text_value?this.selectRoute.text_value:""))},"message.value"(e){e.length<this.message.min||e.length==this.message.max?this.message.required=!1:this.message.required=!0}},mounted(){this.getRoutes()}};const Le=(0,Q.Z)(Be,[["render",N],["__scopeId","data-v-4c3ba5b6"]]);var je=Le;const Ie=e=>((0,i.dD)("data-v-66d872c4"),e=e(),(0,i.Cn)(),e),Oe=Ie((()=>(0,i._)("div",{class:"header"},"Настройки всего меню",-1))),Ke={class:"menu_container"},Ae={class:"menu_container_item"},$e={class:"menu_container_relative"},Me={class:"menu_container_item"},Te={class:"menu_container_item"},Ze={class:"actions"};function Pe(e,t,n,s,o,a){const r=(0,i.up)("p-separator"),u=(0,i.up)("p-input"),d=(0,i.up)("p-btn"),c=(0,i.up)("p-card"),p=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.j4)(p,{model:n.model},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[Oe,(0,i.Wm)(r),(0,i._)("div",Ke,[(0,i._)("div",Ae,[(0,i._)("div",$e,[(0,i.Wm)(u,{label:"Изменение поля для ввода",modelValue:s.input.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.value=e),max:s.input.max},null,8,["modelValue","max"])])]),(0,i._)("div",Me,[(0,i.Wm)(d,{padding:"10px 10px 10px 40px",label:"Cкрывать меню после клика",color:"transparent",textcolor:"#222",onClick:t[1]||(t[1]=e=>s.one_time=!s.one_time)},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,l.C_)(["check",{checked:s.one_time}])},null,2)])),_:1})]),(0,i._)("div",Te,[(0,i.Wm)(d,{padding:"10px 10px 10px 40px",label:"Изменение размера кнопокок",color:"transparent",textcolor:"#222",onClick:t[2]||(t[2]=e=>s.size=!s.size)},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,l.C_)(["check",{checked:s.size}])},null,2)])),_:1})])]),(0,i._)("div",Ze,[(0,i.Wm)(d,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:a.close},null,8,["onClick"]),(0,i.Wm)(d,{class:"actions_btn",label:"Сохранить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:a.saveSettings},null,8,["onClick"])])])),_:1})])),_:1},8,["model"])}var Ve={components:{"p-dialog":we,"p-card":Se,"p-btn":te,"p-separator":fe,"p-input":ae},props:{model:{type:Boolean,required:!1},settings:{type:Object,required:!1}},emits:["closeMenuSettings","saveSettings"],methods:{close(){this.$emit("closeMenuSettings")},saveSettings(){this.input.required&&(this.close(),this.$emit("saveSettings",""==this.input.value?null:this.input.value,this.size,this.one_time))}},setup(){return{input:(0,L.iH)({value:"",required:!1,min:3,max:64}),size:(0,L.iH)(!1),one_time:(0,L.iH)(!1)}},watch:{model(){this.settings.input_field_placeholder?this.input.value=this.settings.input_field_placeholder:this.input.value="",this.size=this.settings.resize_keyboard,this.one_time=this.settings.one_time_keyboard},"input.value"(){this.input.value.length==this.input.max?this.input.required=!1:this.input.required=!0}}};const Ye=(0,Q.Z)(Ve,[["render",Pe],["__scopeId","data-v-66d872c4"]]);var Ee=Ye;const Ue=e=>((0,i.dD)("data-v-533d356b"),e=e(),(0,i.Cn)(),e),Ne={class:"flex justify-between"},Fe=Ue((()=>(0,i._)("div",{class:"header"},"Перемещение кнопок",-1))),Je=["onDragover","onTouchend"],Xe={class:"button my-button"},Ge=Ue((()=>(0,i._)("div",{class:"button_helper"},null,-1))),Qe={class:"wrapword"},et={class:"actions"},tt=Ue((()=>(0,i._)("div",{class:"header"},"Помощь по перемещению",-1))),nt=Ue((()=>(0,i._)("p",{class:"info_content"}," Для того чтобы переместить кнопку, просто наведите на неё и зажмите левую кнопку мыши, затем переместите на нужное место. ",-1))),st=Ue((()=>(0,i._)("p",{class:"info_content"}," Максимальное количество кнопок в стоке 10, если их будет больше, изменения не будут учитываться. ",-1))),it=Ue((()=>(0,i._)("p",{class:"info_content"}," Если в строке не осталось кнопок, строка автоматически удаляется. ",-1))),lt=Ue((()=>(0,i._)("p",{class:"info_content"}," Рекомендуется использовать эту функцию на персональном компьютере. ",-1))),ot={class:"actions"};function at(e,t,n,s,o,a){const r=(0,i.up)("p-btn"),u=(0,i.up)("p-separator"),d=(0,i.up)("draggable"),c=(0,i.up)("p-card"),p=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(p,{model:n.model},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"max"},{default:(0,i.w5)((()=>[(0,i._)("div",Ne,[Fe,(0,i.Wm)(r,{class:"actions_btn",padding:"0",color:"transparent",textcolor:"#222",size:"14px",onClick:t[1]||(t[1]=e=>s.info=!s.info)},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"info",onClick:t[0]||(t[0]=e=>s.info=!s.info)})])),_:1})]),(0,i.Wm)(u),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.render,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"drag_container",key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"",key:t,onDragover:t=>{a.getLineId(e),a.checkLength(t)},onTouchend:t=>{a.getLineId(e),a.checkLength(t)}},[(0,i.Wm)(d,{class:"list-group",list:e.buttons,onChange:a.log,group:"people",itemKey:"name"},{item:(0,i.w5)((({element:e})=>[(0,i._)("div",Xe,[Ge,(0,i._)("div",Qe,(0,l.zw)(e.route.message),1)])])),_:2},1032,["list","onChange"])],40,Je)))),128))])))),128)),(0,i._)("div",et,[(0,i.Wm)(r,{class:"actions_btn",label:"Закрыть",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:a.close},null,8,["onClick"])])])),_:1})])),_:1},8,["model"]),(0,i.Wm)(p,{model:s.info},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[tt,(0,i.Wm)(u),nt,st,it,lt,(0,i._)("div",ot,[(0,i.Wm)(r,{class:"actions_btn",label:"Закрыть",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[2]||(t[2]=e=>s.info=!s.info)})])])),_:1})])),_:1},8,["model"])],64)}var rt=n(6983),ut=n.n(rt),dt={components:{"p-dialog":we,"p-card":Se,"p-btn":te,"p-separator":fe,draggable:ut()},props:{model:{type:Boolean,required:!1},render:{type:Object,required:!1}},emits:["closeDrag","sortBtn"],methods:{log(e){e.moved&&this.length&&this.$emit("sortBtn",this.line,e.moved.newIndex+"",e.moved.element.id),e.added&&this.length&&this.$emit("sortBtn",this.line,e.added.newIndex+"",e.added.element.id),window.console.log(e)},getLineId(e){this.line=e.id},close(){this.$emit("closeDrag")},checkLength(e){e.path[1].childNodes.length>10?this.length=!1:this.length=!0}},setup(){return{line:(0,L.iH)(null),sort:(0,L.iH)(null),id:(0,L.iH)(null),info:(0,L.iH)(!1),length:(0,L.iH)(!0)}},watch:{}};const ct=(0,Q.Z)(dt,[["render",at],["__scopeId","data-v-533d356b"]]);var pt=ct;const gt=e=>((0,i.dD)("data-v-f68959c4"),e=e(),(0,i.Cn)(),e),ht={key:0,class:"wait_container"},mt=gt((()=>(0,i._)("svg",{role:"status",class:"spinner animation-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,i._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))),_t=[mt];function vt(e,t,n,s,l,o){return n.model?((0,i.wg)(),(0,i.iD)("div",ht,_t)):(0,i.kq)("",!0)}var ft={props:["model"],setup(){return{}}};const bt=(0,Q.Z)(ft,[["render",vt],["__scopeId","data-v-f68959c4"]]);var xt=bt,yt={components:{"dial-setting":je,"dial-menu-settings":Ee,"dial-drag":pt,"p-btn":te,"p-card":Se,"p-separator":fe,"p-spinner":xt,"p-dialog":we},setup(){return{lines:(0,L.iH)([]),dialSettings:(0,L.iH)(!1),dialMenuSettings:(0,L.iH)(!1),dialDrag:(0,L.iH)(!1),deleteLineDial:(0,L.iH)(!1),danger:(0,L.iH)(!0),configButton:(0,L.iH)({}),selectLine:(0,L.iH)(0),requestWaiting:(0,L.iH)(!1),menu:(0,L.iH)(0),menuSettings:(0,L.iH)({}),control:(0,L.iH)(!1),select:(0,L.iH)({id:0,line_id:0,request_contact:!1,request_location:!1,request_poll:null,route:{id:0,message:"",route:""},sort:0})}},props:{bot:Object,menu_id:Number,host:String,routes:Array},methods:{closeMenuSettings(){this.dialMenuSettings=!this.dialMenuSettings},closeSettings(){this.dialSettings=!this.dialSettings},closeDrag(){this.dialDrag=!this.dialDrag},saveSettings(e,t,n){this.requestWaiting=!0;try{B().post("https://api.bot-t.ru/v1/bot/keyboard/reply-keyboard/update?token=1250754763:AAHCrhde6Hzz-PKOf-072dpZIFyPjh2obkA",{bot_id:889,menu_id:26699,input_field_placeholder:e,resize_keyboard:t,one_time_keyboard:n}).then((e=>{this.lines=[];for(let t of JSON.parse(e.data).data)this.lines.push(t.lines),this.menuSettings=t;200==e.status&&(this.requestWaiting=!1),setTimeout((()=>{this.scrollArea()}),10)}))}catch(s){console.log(s)}},requestAddBtnInLine(e,t,n){this.request("add-button-in-line",null,e,null,t,n,null)},requestAddBtnWithLine(e,t){this.request("add-button-with-line",26699,null,null,e,t,null)},requestUpdateData(e,t,n){this.request("update-button",null,null,e,t,n,null)},requestSortButton(e,t,n){this.request("change-sort-and-line",null,e,n,null,null,t+"")},requestDeleteButton(e){this.request("delete-button",null,null,e,null,null,null)},requestDeleteLine(e){this.danger=!0,this.request("delete-line",null,e,null,null,null,null)},addBtn(e){this.dialSettings=!this.dialSettings,this.control=!0,this.select={req:"add-button",line:e,request_contact:!1,request_location:!1,request_poll:null,route:{id:0,message:"",route:""}}},wordBreak(e){return![...e].includes(" ")},addLine(){this.dialSettings=!this.dialSettings,this.control=!0,this.select={req:"add-line",request_contact:!1,request_location:!1,request_poll:null,route:{message:"",route:""}}},request(e,t,n,s,i,l,o){this.requestWaiting=!0;try{B().post(`https://api.bot-t.ru/v1/bot/keyboard/reply-keyboard/${e}?token=1250754763:AAHCrhde6Hzz-PKOf-072dpZIFyPjh2obkA`,this.createPostParams(t,n,s,i,l,o)).then((e=>{this.lines=[];for(let t of JSON.parse(e.data).data)this.lines.push(t.lines),this.menuSettings=t;200==e.status&&(this.requestWaiting=!1),setTimeout((()=>{this.scrollArea()}),10)}))}catch(a){console.log(a)}},createPostParams(e,t,n,s,i,l){let o={bot_id:889};return e&&(o.menu_id=e),t&&(o.line_id=t),n&&(o.id=n),s&&(o.message=s),i&&(o.route=i),l&&(o.sort=l),console.log(o),o},selectBtn(e){this.dialSettings=!this.dialSettings,this.select=e,this.control=!1},scrollArea(){document.querySelectorAll(".container_btn_btns").forEach((e=>{let t={left:0,x:0,y:0};const n=function(n){t={left:e.scrollLeft,x:n.clientX},document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)},s=function(n){const s=n.clientX-t.x;e.scrollLeft=t.left-s},i=function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};e.addEventListener("mousedown",n)}))}},mounted(){this.request("view",26699,null,null,null,null,null)}};const wt=(0,Q.Z)(yt,[["render",H],["__scopeId","data-v-329ee356"]]);var kt=wt;(0,s.ri)(kt).mount("#app")}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,s,i,l){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],l=e[d][2];for(var a=!0,r=0;r<s.length;r++)(!1&l||o>=l)&&Object.keys(n.O).every((function(e){return n.O[e](s[r])}))?s.splice(r--,1):(a=!1,l<o&&(o=l));if(a){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,i,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,o=s[0],a=s[1],r=s[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(r)var d=r(n)}for(t&&t(s);u<o.length;u++)l=o[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},s=self["webpackChunkreplymenu"]=self["webpackChunkreplymenu"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(5540)}));s=n.O(s)})();
//# sourceMappingURL=app.d7ff40ed.js.map