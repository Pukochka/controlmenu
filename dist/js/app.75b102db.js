(function(){"use strict";var e={7217:function(e,t,n){var l=n(9242),i=n(3396),s=n(7139);const o=e=>((0,i.dD)("data-v-8835d5e6"),e=e(),(0,i.Cn)(),e),a={class:"body"},r={class:"flex justify-between"},d=o((()=>(0,i._)("div",{class:"header"},"Настройки кнопок меню",-1))),c={class:"messanger"},u=o((()=>(0,i._)("div",{class:"messanger_message your"},[(0,i._)("div",{class:"messanger_avatar"},[(0,i._)("div",{class:"messanger_avatar_img"})]),(0,i._)("div",{class:"messanger_content your"},[(0,i._)("div",{class:"messanger_content_text"},"Настройки меню"),(0,i._)("div",{class:"messanger_content_info"},"10.01 10:00")])],-1))),p={class:"messanger_message"},h=o((()=>(0,i._)("div",{class:"messanger_avatar"},[(0,i._)("div",{class:"messanger_avatar_img"})],-1))),g={class:"container"},v=o((()=>(0,i._)("div",{class:"messanger_content"},[(0,i._)("div",{class:"messanger_content_text"},"Меню"),(0,i._)("div",{class:"messanger_content_info"},"10.01 10:01")],-1))),m={class:"container_btn"},_=["onClick"],x=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),y=o((()=>(0,i._)("span",null,"+",-1))),f=[x,y],b=["onClick"],w=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),k=["onClick"],q=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),D=(0,i.Uk)(" Добавить кнопку "),C=[q,D],R=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),S=(0,i.Uk)(" Добавить линию "),H=[R,S],W=o((()=>(0,i._)("div",{class:"button_helper"},null,-1))),B=(0,i.Uk)(" Переместить кнопки "),A=[W,B],L={key:1,class:"danger"},z=o((()=>(0,i._)("div",{class:"sure"},"Вы уверены,что хотите удалить линию?",-1))),I={class:"actions"};function K(e,t,n,o,x,y){const q=(0,i.up)("p-spinner"),D=(0,i.up)("p-separator"),R=(0,i.up)("p-card"),S=(0,i.up)("dial-drag"),W=(0,i.up)("dial-setting"),B=(0,i.up)("p-btn"),K=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[(0,i.Wm)(R,{class:"card_area"},{default:(0,i.w5)((()=>[(0,i._)("div",r,[d,(0,i.Wm)(q,{model:o.requestWaiting},null,8,["model"])]),(0,i.Wm)(D),(0,i._)("div",c,[u,(0,i._)("div",p,[h,(0,i._)("div",g,[v,(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.lines,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"container_btn_lines",key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n},[(0,i.Wm)(l.W3,{name:"list",tag:"div",class:"container_btn_btns gutter"},{default:(0,i.w5)((()=>[e.length>=2?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"button delete",title:"Удалить линию",onClick:e=>{o.deleteLineDial=!o.deleteLineDial,o.selectLine=t.id}},f,8,_)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.buttons,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["button",{break:y.wordBreak(e.data.text)}]),key:n,onClick:n=>y.selectBtn(e,t)},[w,(0,i.Uk)(" "+(0,s.zw)(e.data.text),1)],10,b)))),128)),t.buttons.length<10?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"button",onClick:e=>y.addBtn(t.id)},C,8,k)):(0,i.kq)("",!0)])),_:2},1024)])))),128))])))),128)),o.lines[0]?.length<10?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"button line",onClick:t[0]||(t[0]=e=>y.addLine())},H)):(0,i.kq)("",!0),(0,i._)("div",{class:"button line",onClick:t[1]||(t[1]=e=>o.dialDrag=!o.dialDrag)},A),10==o.lines[0]?.length?((0,i.wg)(),(0,i.iD)("div",L," Достигнуто максимальное количество линий ")):(0,i.kq)("",!0)])])])])])),_:1})]),(0,i.Wm)(S,{render:o.lines,model:o.dialDrag,onCloseDrag:y.closeDrag,onSortBtn:y.requestSortButton},null,8,["render","model","onCloseDrag","onSortBtn"]),(0,i.Wm)(W,{control:o.control,model:o.dialSettings,data:o.select,onCloseSettings:y.closeSettings,onAddLine:y.requestAddBtnWithLine,onAddButton:y.requestAddBtnInLine,onUpdateButton:y.requestUpdateData,onDeleteButton:y.requestDeleteButton},null,8,["control","model","data","onCloseSettings","onAddLine","onAddButton","onUpdateButton","onDeleteButton"]),(0,i.Wm)(K,{model:o.deleteLineDial},{default:(0,i.w5)((()=>[(0,i.Wm)(R,{class:"sure_card"},{default:(0,i.w5)((()=>[z,(0,i._)("div",I,[(0,i.Wm)(B,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[2]||(t[2]=e=>o.deleteLineDial=!o.deleteLineDial)}),(0,i.Wm)(B,{class:"actions_btn",label:"Подтвердить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[3]||(t[3]=e=>{y.requestDeleteLine(o.selectLine),o.deleteLineDial=!o.deleteLineDial})})])])),_:1})])),_:1},8,["model"])],64)}var j=n(6265),O=n.n(j),T=n(4870);const $={class:"dial_header"},Z={class:"dial_container"},U={class:"dial_container"},P={class:"dial_container_head"},V=["onClick"],Y={key:0,class:"danger"},E={key:0,class:"dial_container"},M={class:"dial_container_head"},N={class:"area"},F=["maxlength"],J={class:"textarea_length"},X={key:1,class:"dial_container"},G={class:"dial_container_head"},Q=["onClick"],ee={key:0,class:"danger"},te={key:2,class:"dial_container"},ne={key:3,class:"dial_container"},le={class:"dial_container_head"},ie=["onClick"],se={key:0,class:"danger"},oe={class:"actions"},ae={class:"sure"},re={class:"actions"};function de(e,t,n,o,a,r){const d=(0,i.up)("p-separator"),c=(0,i.up)("p-input"),u=(0,i.up)("p-input-required"),p=(0,i.up)("p-select"),h=(0,i.up)("p-btn"),g=(0,i.up)("p-card"),v=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(v,{model:n.model},{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("div",$,(0,s.zw)(n.control?"Добавление":"Изменение")+" кнопки ",1),(0,i.Wm)(d),(0,i._)("div",Z,[(0,i.Wm)(c,{label:(n.control?"Введите":"Измененить")+" название кнопки",modelValue:o.text.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.text.value=e),max:o.text.max},null,8,["label","modelValue","max"]),(0,i.Wm)(u,{model:o.text},null,8,["model"])]),(0,i._)("div",U,[(0,i._)("div",P,(0,s.zw)((n.control?"Добавить":"Изменить")+" тип кнопки"),1),(0,i.Wm)(p,{select:o.selectAction.text},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.actions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"actions_item",key:t,onClick:t=>r.selectType(e)},(0,s.zw)(e.text),9,V)))),128))])),_:1},8,["select"]),o.dangerAction?((0,i.wg)(),(0,i.iD)("div",Y," Данный тип действия пока в разработке ")):(0,i.kq)("",!0)]),2==o.selectAction.type||3==o.selectAction.type?((0,i.wg)(),(0,i.iD)("div",E,[(0,i._)("div",M,(0,s.zw)((n.control?"Добавить":"Изменить")+" текст"),1),(0,i._)("div",N,[(0,i.wy)((0,i._)("textarea",{maxlength:o.textarea.max,class:"textarea","onUpdate:modelValue":t[1]||(t[1]=e=>o.textarea.value=e)},null,8,F),[[l.nr,o.textarea.value]]),(0,i._)("div",J,(0,s.zw)(o.textarea.outlength),1)]),(0,i.Wm)(u,{model:o.textarea},null,8,["model"])])):(0,i.kq)("",!0),1==o.selectAction.type?((0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",G,(0,s.zw)((n.control?"Добавить":"Изменить")+" готовый путь кнопки"),1),(0,i.Wm)(p,{select:o.selectRoute.text},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.routes,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"actions_item",key:t,onClick:t=>r.selectRoutes(e)},(0,s.zw)(e.text),9,Q)))),128))])),_:1},8,["select"]),o.dangerRoute?((0,i.wg)(),(0,i.iD)("div",ee," Для того чтобы "+(0,s.zw)(n.control?"добавить":"изменить")+" кнопку нужно выбрать действие ",1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),0==o.selectAction.type?((0,i.wg)(),(0,i.iD)("div",te,[(0,i.Wm)(c,{label:(n.control?"Добавить":"Изменить")+" ссылку кнопки",modelValue:o.action.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.action.value=e),max:o.action.max},null,8,["label","modelValue","max"]),(0,i.Wm)(u,{model:o.action},null,8,["model"])])):(0,i.kq)("",!0),o.selectRoute.value?.length>0&&1==o.selectAction.type?((0,i.wg)(),(0,i.iD)("div",ne,[(0,i._)("div",le,(0,s.zw)((n.control?"Добавить":"Изменить")+" путь кнопки"),1),(0,i.Wm)(p,{select:o.selectRouteText},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.selectRoute.value[0],((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"actions_item",key:t,onClick:n=>r.selectRouteValue(e,t)},(0,s.zw)("category"==o.selectRoute.type?e.text:e),9,ie)))),128))])),_:1},8,["select"]),o.dangerKey?((0,i.wg)(),(0,i.iD)("div",se," Для того чтобы "+(0,s.zw)(n.control?"добавить":"изменить")+" кнопку нужно выбрать ",1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",oe,[(0,i.Wm)(h,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:r.closeSettings},null,8,["onClick"]),n.control?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(h,{key:0,class:"actions_btn",label:"Удалить кнопку",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[3]||(t[3]=e=>o.sure=!o.sure)})),(0,i.Wm)(h,{class:"actions_btn",label:n.control?"Добавить":"Изменить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[4]||(t[4]=e=>r.configButton(!1))},null,8,["label"])])])),_:1})])),_:1},8,["model"]),(0,i.Wm)(v,{model:o.sure},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"sure_card"},{default:(0,i.w5)((()=>[(0,i._)("div",ae," Вы уверены,что хотите удалить кнопку "+(0,s.zw)(n.data?.data.text)+"? ",1),(0,i._)("div",re,[(0,i.Wm)(h,{class:"actions_btn",label:"Отмена",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[5]||(t[5]=e=>o.sure=!o.sure)}),(0,i.Wm)(h,{class:"actions_btn",label:"Подтвердить",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[6]||(t[6]=e=>{r.configButton("delete"),o.sure=!o.sure})})])])),_:1})])),_:1},8,["model"])],64)}const ce=e=>((0,i.dD)("data-v-1d0fbb24"),e=e(),(0,i.Cn)(),e),ue=ce((()=>(0,i._)("div",{class:"blur"},null,-1)));function pe(e,t,n,l,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:"btn",ref:"button",style:(0,s.j5)({padding:n.padding,background:n.color,color:n.textcolor,fontSize:n.size,margin:n.margin,borderRadius:n.rad})},[(0,i.WI)(e.$slots,"default",{},void 0,!0),(0,i._)("div",{class:(0,s.C_)(["",{btn_content:n.word}])},(0,s.zw)(n.label),3),ue,n.title?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"title",ref:"title"},(0,s.zw)(n.title),513)):(0,i.kq)("",!0)],4)}var he={setup(){return{}},methods:{},mounted(){},props:{label:{type:String,required:!1},rad:{type:String,required:!1},word:{type:Boolean,required:!1},blur:{type:Boolean,required:!1},title:{type:String,required:!1},padding:{type:String,required:!1},margin:{type:String,required:!1},color:{type:String,required:!1},textcolor:{type:String,required:!1},size:{type:String,required:!1}}},ge=n(89);const ve=(0,ge.Z)(he,[["render",pe],["__scopeId","data-v-1d0fbb24"]]);var me=ve;const _e={class:"label"},xe=["type","value","maxlength"];function ye(e,t,n,l,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",_e,(0,s.zw)(n.label),1),(0,i._)("input",{class:"input",type:n.type,style:(0,s.j5)({borderBottom:`1px solid ${n.bordercolor};`}),value:n.modelValue,maxlength:+n.max,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,44,xe)],64)}var fe={setup(){return{name:(0,T.iH)("")}},mounted(){},watch:{},props:{max:{type:Number,required:!1},label:{type:String,required:!1},text:{type:String,required:!1},type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1},color:{type:String,required:!1},textcolor:{type:String,required:!1},size:{type:String,required:!1},bordercolor:{type:String,required:!1}}};const be=(0,ge.Z)(fe,[["render",ye],["__scopeId","data-v-4f8683e8"]]);var we=be;const ke={class:"select_group"},qe={class:"select_group_content"};function De(e,t,n,l,o,a){return(0,i.wg)(),(0,i.iD)("div",ke,[(0,i._)("div",{class:"select_group_select",onClick:t[2]||(t[2]=e=>l.model=!l.model)},[(0,i._)("div",qe,(0,s.zw)(n.select),1),(0,i._)("div",{class:(0,s.C_)(["select_group_expand",{show:l.model}])},null,2),(0,i._)("div",{class:(0,s.C_)(["select_group_popup",{show:l.model}]),onClick:t[1]||(t[1]=e=>l.model=!l.model)},[(0,i._)("div",{class:"select_group_popup_helper",onClick:t[0]||(t[0]=e=>l.model=!l.model)},[(0,i.WI)(e.$slots,"default",{},void 0,!0)])],2)])])}var Ce={setup(){return{model:(0,T.iH)(!1)}},watch:{},props:{select:{type:String,required:!1},label:{type:String,required:!1}},methods:{},mounted(){}};const Re=(0,ge.Z)(Ce,[["render",De],["__scopeId","data-v-463da378"]]);var Se=Re;const He={class:"separator"};function We(e,t,n,l,s,o){return(0,i.wg)(),(0,i.iD)("hr",He)}var Be={setup(){return{}},props:{}};const Ae=(0,ge.Z)(Be,[["render",We],["__scopeId","data-v-0ab169c8"]]);var Le=Ae;function ze(e,t,n,l,o,a){return(0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i._)("div",{class:(0,s.C_)(["dialog full fullscreen",{show:n.model}])},[(0,i._)("div",{class:(0,s.C_)(["dialog_backdrop full",{show:n.model}])},null,2),(0,i._)("div",{class:(0,s.C_)(["dialog_inner full fixed",{show:n.model}])},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],2)],2)])}var Ie={props:["model"],setup(){return{name:(0,T.iH)(!1)}},watch:{}};const Ke=(0,ge.Z)(Ie,[["render",ze],["__scopeId","data-v-007ffada"]]);var je=Ke;function Oe(e,t,n,l,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:"card",style:(0,s.j5)({background:n.color})},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],4)}var Te={setup(){return{}},props:{color:{type:String,required:!1}}};const $e=(0,ge.Z)(Te,[["render",Oe],["__scopeId","data-v-038992f4"]]);var Ze=$e;const Ue={key:0,class:"input_danger"};function Pe(e,t,n,l,o,a){return n.model.required?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Ue,(0,s.zw)(n.model.value.length==n.model.max?"Достигнуто максимальное количество символов":`Минимальное количество символов ${n.model.min} введено ${n.model.value.length}`),1))}var Ve={setup(){return{}},props:{model:{type:Object,required:!1}}};const Ye=(0,ge.Z)(Ve,[["render",Pe],["__scopeId","data-v-5cbf0b32"]]);var Ee=Ye,Me={components:{"p-btn":me,"p-input":we,"p-select":Se,"p-separator":Le,"p-dialog":je,"p-card":Ze,"p-input-required":Ee},emits:["changeType","changeRoute","closeSettings","deleteButton","addLine","updateButton","addButton"],props:{model:{type:Boolean,required:!1},data:{type:Object,required:!1},control:{type:Boolean,required:!1}},setup(){return{dangerRoute:(0,T.iH)(!1),dangerKey:(0,T.iH)(!1),dangerAction:(0,T.iH)(!1),selectRouteKey:(0,T.iH)(""),selectRouteText:(0,T.iH)(""),routes:(0,T.iH)([]),sure:(0,T.iH)(!1),currentRoute:(0,T.iH)(""),type:(0,T.iH)(0),text:(0,T.iH)({value:"",required:!1,min:3,max:20}),action:(0,T.iH)({value:"",required:!1,min:8,max:40}),textarea:(0,T.iH)({value:"",required:!1,min:10,max:100,outlength:100}),selectRoute:(0,T.iH)({text:"Выберите путь",route:"",identifier:"",text_value:"",value:[]}),selectAction:(0,T.iH)({text:"Ссылка",type:0}),actions:(0,T.iH)([{text:"Ссылка",type:0},{text:"Действие",type:1},{text:"Поделиться",type:2},{text:"Поделиться в группу",type:3},{text:"web",type:4}])}},methods:{selectRouteValue(e,t){this.dangerKey=!1,"category"==this.selectRoute.type?(this.selectRouteText=e.text,this.selectRouteKey=e.route):(this.selectRouteText=e,this.selectRouteKey=t)},selectType(e){this.dangerAction=!1,this.selectAction=e,this.selectAction.type>3&&(this.dangerAction=!0)},selectRoutes(e){this.dangerRoute=!1,e.type?"category"==e.type&&(this.selectRouteText="Выбрать панель",this.selectRoute={text:e.text,type:"category",value:[{...e.value}]}):(this.selectRoute=e,this.selectRouteText=this.selectRoute.text_value?this.selectRoute.text_value:"")},closeSettings(){this.$emit("closeSettings"),this.typeBtn=!1,this.routeBtn=!1,this.dangerAction=!1},getRoutes(){O().post("https://api.bot-t.ru/v1/bot/main/actions?token=1250754763:AAHCrhde6Hzz-PKOf-072dpZIFyPjh2obkA","bot_id=889&menu_id=577").then((e=>{for(let t of JSON.parse(e.data).data)this.routes.push(t);console.log(this.routes)}))},configButton(e){if(this.dangerRoute=!1,this.dangerKey=!1,e)return this.$emit("deleteButton",this.data.id),void this.closeSettings();this.selectAction.type>3||(this.action.required&&this.text.required&&2!=this.selectAction.type?3==this.selectAction.type?this.textarea.required:this.validateDataRoute(this.selectAction,this.selectRoute):this.textarea.required)&&(this.closeSettings(),"add-line"==this.data.req?this.$emit("addLine",this.selectAction.type,this.text.value,this.chooseRoute(this.selectAction,this.selectRoute)):"add-button"==this.data.req?this.$emit("addButton",this.data.line,this.selectAction.type,this.text.value,this.chooseRoute(this.selectAction,this.selectRoute)):this.$emit("updateButton",this.data.id,this.text.value,this.chooseRoute(this.selectAction,this.selectRoute),this.selectAction.type))},chooseRoute(e,t){let n;return 0==e.type?n=this.action.value:1==e.type?n=t.value?.length>0?t.type?this.selectRouteKey:t.route+t.identifier+this.selectRouteKey:t.route:(2==e.type||3==e.type||4==e.type)&&(n=this.textarea.value),n},validateDataRoute(e,t){return 1!=e.type||(""==t.route?this.dangerRoute=!0:this.dangerRoute=!1,t.value?.length>0&&""==this.selectRouteKey&&(this.dangerKey=!0),!this.dangerRoute&&!this.dangerKey)}},watch:{model(){let e=!1,t=!0;this.selectRoute={text:"Выберите путь",route:""},this.action.value="https://",this.textarea.value="Пример приветствия",this.selectAction={},this.text.value=this.data.data.text,this.selectAction=this.actions.find((e=>e.type==this.data.type)),0==this.data.type?this.action.value=this.data.data.action:1==this.data.type?(this.selectRoute=this.routes.find((e=>e.route==this.data.data.action)),void 0==this.selectRoute&&(this.routes.forEach((n=>{if(n.value)for(let l in n.value[0])if(n.route+n.identifier+l==this.data.data.action){e=!0,t=!1;let i=l.length+n.identifier.length,s=[...this.data.data.action];s.splice(-i,i),this.currentRoute=s.join(""),this.selectRouteText=n.value[0][l]}})),this.selectRoute=this.routes.find((e=>e.route==this.currentRoute)),t&&this.routes.forEach((t=>{if(t.type){e=!0,this.selectRoute=this.routes.find((e=>e.value==t.value)),this.selectRoute={text:this.selectRoute.text,type:"category",value:[{...this.selectRoute.value}]};for(let e in t.value)t.value[e].route==this.data.data.action&&(this.selectRouteText=t.value[e].text)}}))),this.selectRoute.value?.length>0&&!e&&(this.selectRouteText=this.selectRoute.text_value?this.selectRoute.text_value:"")):(2==this.data.type||3==this.data.type)&&(this.textarea.value=this.data.data.action)},"text.value"(e){e.length<this.text.min||e.length==this.text.max?this.text.required=!1:this.text.required=!0},"action.value"(e){e.length<this.action.min||e.length==this.action.max?this.action.required=!1:this.action.required=!0},"textarea.value"(e){this.textarea.outlength=this.textarea.max-e.length,e.length<this.textarea.min||e.length==this.textarea.max?this.textarea.required=!1:this.textarea.required=!0}},mounted(){this.getRoutes()}};const Ne=(0,ge.Z)(Me,[["render",de],["__scopeId","data-v-233b72cc"]]);var Fe=Ne;const Je=e=>((0,i.dD)("data-v-6e060902"),e=e(),(0,i.Cn)(),e),Xe={class:"flex justify-between"},Ge=Je((()=>(0,i._)("div",{class:"header"},"Перемещение кнопок",-1))),Qe=["onDragover","onTouchend"],et={class:"button my-button"},tt=Je((()=>(0,i._)("div",{class:"button_helper"},null,-1))),nt={class:"actions"},lt=Je((()=>(0,i._)("div",{class:"header"},"Помощь по перемещению",-1))),it=Je((()=>(0,i._)("p",{class:"info_content"}," Для того чтобы переместить кнопку, просто наведите на неё и зажмите левую кнопку мыши, затем переместите на нужное место. ",-1))),st=Je((()=>(0,i._)("p",{class:"info_content"}," Максимальное количество кнопок в стоке 10, если их будет больше, изменения не будут учитываться. ",-1))),ot=Je((()=>(0,i._)("p",{class:"info_content"}," Если в строке не осталось кнопок, строка автоматически удаляется. ",-1))),at=Je((()=>(0,i._)("p",{class:"info_content"}," Рекомендуется использовать эту функцию на персональном компьютере. ",-1))),rt={class:"actions"};function dt(e,t,n,l,o,a){const r=(0,i.up)("p-btn"),d=(0,i.up)("p-separator"),c=(0,i.up)("draggable"),u=(0,i.up)("p-card"),p=(0,i.up)("p-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(p,{model:n.model},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"max"},{default:(0,i.w5)((()=>[(0,i._)("div",Xe,[Ge,(0,i.Wm)(r,{class:"actions_btn",padding:"0",color:"transparent",textcolor:"#222",size:"14px",onClick:t[1]||(t[1]=e=>l.info=!l.info)},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"info",onClick:t[0]||(t[0]=e=>l.info=!l.info)})])),_:1})]),(0,i.Wm)(d),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.render,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"drag_container",key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"",key:t,onDragover:t=>{a.getLineId(e),a.checkLength(t)},onTouchend:t=>{a.getLineId(e),a.checkLength(t)}},[(0,i.Wm)(c,{class:"list-group",list:e.buttons,onChange:a.log,group:"people",itemKey:"name"},{item:(0,i.w5)((({element:e})=>[(0,i._)("div",et,[tt,(0,i.Uk)(" "+(0,s.zw)(a.threeLetters(e.data.text)),1)])])),_:2},1032,["list","onChange"])],40,Qe)))),128))])))),128)),(0,i._)("div",nt,[(0,i.Wm)(r,{class:"actions_btn",label:"Закрыть",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:a.close},null,8,["onClick"])])])),_:1})])),_:1},8,["model"]),(0,i.Wm)(p,{model:l.info},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[lt,(0,i.Wm)(d),it,st,ot,at,(0,i._)("div",rt,[(0,i.Wm)(r,{class:"actions_btn",label:"Закрыть",padding:"8px 16px",color:"transparent",textcolor:"#222",size:"14px",onClick:t[2]||(t[2]=e=>l.info=!l.info)})])])),_:1})])),_:1},8,["model"])],64)}var ct=n(6983),ut=n.n(ct),pt={components:{"p-dialog":je,"p-card":Ze,"p-btn":me,"p-separator":Le,draggable:ut()},props:{model:{type:Boolean,required:!1},render:{type:Object,required:!1}},emits:["closeDrag","sortBtn"],methods:{log(e){e.moved&&this.length&&this.$emit("sortBtn",this.line,e.moved.newIndex,e.moved.element.id),e.added&&this.length&&this.$emit("sortBtn",this.line,e.added.newIndex+"",e.added.element.id),window.console.log(e)},kol(e){console.log(e)},getLineId(e){this.line=e.id},close(){this.$emit("closeDrag")},threeLetters(e){return[...e].splice(0,3).join("")+".."},checkLength(e){e.path[1].childNodes.length>10?this.length=!1:this.length=!0}},setup(){return{line:(0,T.iH)(null),sort:(0,T.iH)(null),id:(0,T.iH)(null),info:(0,T.iH)(!1),length:(0,T.iH)(!0)}},watch:{}};const ht=(0,ge.Z)(pt,[["render",dt],["__scopeId","data-v-6e060902"]]);var gt=ht;const vt=e=>((0,i.dD)("data-v-f68959c4"),e=e(),(0,i.Cn)(),e),mt={key:0,class:"wait_container"},_t=vt((()=>(0,i._)("svg",{role:"status",class:"spinner animation-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,i._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1))),xt=[_t];function yt(e,t,n,l,s,o){return n.model?((0,i.wg)(),(0,i.iD)("div",mt,xt)):(0,i.kq)("",!0)}var ft={props:["model"],setup(){return{}}};const bt=(0,ge.Z)(ft,[["render",yt],["__scopeId","data-v-f68959c4"]]);var wt=bt,kt={components:{"dial-setting":Fe,"dial-drag":gt,"p-btn":me,"p-card":Ze,"p-separator":Le,"p-spinner":wt,"p-dialog":je},setup(){return{lines:(0,T.iH)([]),dialSettings:(0,T.iH)(!1),deleteLineDial:(0,T.iH)(!1),danger:(0,T.iH)(!0),configButton:(0,T.iH)({}),selectLine:(0,T.iH)(0),requestWaiting:(0,T.iH)(!1),dialDrag:(0,T.iH)(!1),menu:(0,T.iH)(0),control:(0,T.iH)(!1),select:(0,T.iH)({data:{text:"",action:"https://"},type:0})}},methods:{closeSettings(){this.dialSettings=!this.dialSettings},closeDrag(){this.dialDrag=!this.dialDrag},requestAddBtnInLine(e,t,n,l){this.request("add-button-in-line",null,e,null,t+"",n,l,null)},requestAddBtnWithLine(e,t,n){this.request("add-button-with-line",this.menu,null,null,e+"",t,n,null)},requestUpdateData(e,t,n,l){this.request("update-data-and-type",null,null,e,l+"",t,n,null)},requestSortButton(e,t,n){this.request("change-sort-and-line",null,e,n,null,null,null,t+"")},requestUpdateTypeButton(e,t){this.request("update-type-button",null,null,e,t,null,null,null)},requestDeleteButton(e){this.request("delete-button",null,null,e,null,null,null,null)},requestDeleteLine(e){this.danger=!0,this.request("delete-line",null,e,null,null,null,null,null)},addBtn(e){this.dialSettings=!this.dialSettings,this.control=!0,this.select={req:"add-button",line:e,type:0,data:{text:"",action:"https://"}}},wordBreak(e){return![...e].includes(" ")},addLine(){this.dialSettings=!this.dialSettings,this.control=!0,this.select={req:"add-line",type:0,data:{text:"",action:"https://"}}},request(e,t,n,l,i,s,o,a){this.requestWaiting=!0;try{O().post(`https://api.bot-t.ru/v1/bot/keyboard/inline-keyboard/${e}?token=1250754763:AAHCrhde6Hzz-PKOf-072dpZIFyPjh2obkA`,this.createPostParams(t,n,l,i,s,o,a)).then((e=>{this.lines=[];for(let t of JSON.parse(e.data).data)this.lines.push(t.lines),console.log(this.lines);200==e.status&&(this.requestWaiting=!1),this.menu=JSON.parse(e.data).data[0].id,setTimeout((()=>{this.scrollArea()}),10)}))}catch(r){console.log(r)}},createPostParams(e,t,n,l,i,s,o){const a={bot_id:889};return console.log(e,t,n,l,i,s,o),console.log(a),e&&(a.menu_id=e),t&&(a.line_id=t),n&&(a.id=n),l&&(a.type=l),i&&(a.text=i),s&&(a.action=s),o&&(a.sort=o),a},selectBtn(e){this.dialSettings=!this.dialSettings,this.select=e,this.control=!1},scrollArea(){document.querySelectorAll(".container_btn_btns").forEach((e=>{let t={left:0,x:0,y:0};const n=function(n){t={left:e.scrollLeft,x:n.clientX},document.addEventListener("mousemove",l),document.addEventListener("mouseup",i)},l=function(n){const l=n.clientX-t.x;e.scrollLeft=t.left-l},i=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i)};e.addEventListener("mousedown",n)}))}},mounted(){this.request("view",577,null,null,null,null,null,null)}};const qt=(0,ge.Z)(kt,[["render",K],["__scopeId","data-v-8835d5e6"]]);var Dt=qt;(0,l.ri)(Dt).mount("#app")}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,l,i,s){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],i=e[c][1],s=e[c][2];for(var a=!0,r=0;r<l.length;r++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](l[r])}))?l.splice(r--,1):(a=!1,s<o&&(o=s));if(a){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var i,s,o=l[0],a=l[1],r=l[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(r)var c=r(n)}for(t&&t(l);d<o.length;d++)s=o[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},l=self["webpackChunkcontrolmenu"]=self["webpackChunkcontrolmenu"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(7217)}));l=n.O(l)})();
//# sourceMappingURL=app.75b102db.js.map